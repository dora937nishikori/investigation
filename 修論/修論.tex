\documentclass{ltjarticle}
\usepackage{geometry}
\usepackage[dvipdfmx]{graphicx}
\usepackage[colorlinks=true, allcolors=blue] {hyperref}
\usepackage{amsmath}
\usepackage{mathtools}
% ページの余白を1.25インチにする
\geometry{
    left=1.25truein,
    right=1.25truein,
    top=1.25truein,
    bottom=1.25truein,
}

\begin{document}
\begin{titlepage}
    \begin{center}
        {\Large 令和5年}
        \vspace{10truept}

        {\Large 修士論文草稿}
        \vspace*{180truept}

        {\Huge タイトル} 
        \vspace{160truept}

        {\Large 指導教員：相馬 隆郎}
        \vspace{30truept}

        {\Large 東京都立大学大学院}
        \vspace{10truept}

        {\Large 電子情報システム工学域}
        \vspace{30truept}

        {\Large 学修番号：22861651}
        \vspace{10truept}
        
        {\Large 氏名：西原涼介}
    \end{center}
\end{titlepage}
\noindent
{\LARGE 論文要旨}
\vspace{20truept}

ここから論文要旨

% 目次
\newpage
\tableofcontents
\clearpage

\part{はじめに}
\vspace{10truept}
\section{研究背景}
近年, Amazonや楽天市場などの大手ECサイトをはじめ、数多くのECサイトが普及し,  その利用者も急増して
いる. そして, 商品を購入する際にECサイトのレビューを参考にしている利用者の割合は約70\%と言われていて, そ
の中でもレビューの信頼性を重要視している人が多いことが明らかになっている. また, 多くの企業にとって, ECサイトの
レビューからユーザーの嗜好や意見を分析し，マーケティングに活用することが重要な課題となっている．そのため，
ECサイトのレビューの信頼性や参考になるかどうかを評価する評判分析や口コミ分析, レビューを様々なトピックに分類する文書分類に関する
研究が多く行われている. 例えば, 関連研究の項で詳しく紹介する「機械学習を用いた自然言語処理による商品レビューの評価」[1]では, Amazonの商品レビュー
を機械学習を用いて参考になる順に並びかえるシステムの構築, 及びその評価に関する研究を行っている。
また近年では, 従来のECサイトや商品のWebページ以外にも, YouTubeのような
動画投稿サイトやX(旧Twitter)やInstagramなどのSNSで自社製品・サービスの宣伝を行う企業が増えてきている. 
それにつれて, 商品を購入する際にSNSやYouTube上でその商品を宣伝している投稿を参考にしている人も増加している. 
そのため, SNSやYouTube上の広告に対するユーザーのコメントも, 他のユーザーが商品の購入を検討する際の重要な判断
材料になり得ると考えられる. つまり, SNSやYouTube上での商品の宣伝に対するコメントは, ECサイトのレビュー
と同等の機能を持ち, その信頼性や参考になるかどうかが重要になるため, 
評判分析や文書分類の研究の対象になると考えられる. ここで, SNSやYouTubeは商品レビューのページとは異なり, 
誰でも気軽にコメントを投稿できたり, その投稿内容も自由という特性上, 商品やサービスに関係ないコメントが
多数存在する.

そこで, 本研究では分析対象をYouTube上で自社製品やサービスを宣伝している動画に対するユーザーのコメントとし, 
トピックモデルの一種であるBiterm Topic Modelによる商品に関するトピック抽出を用いて, 
その動画に対するユーザーのコメントから, 宣伝している商品やサービスに対して関連性が高いコメントを
抽出するシステムの作成, 及び作成したシステムの人手に対する精度の検証を行った. 

本論文の第Ⅰ部では, ECサイトのレビューにおける評判分析やトピックモデルを用いた文書分類に関する関連研究の紹介, 
また本研究の研究目的を明確に説明する.
第Ⅱ部では, 本研究で用いる二つのトピックモデルの説明, 及び提案手法のシステムや実装方法について説明する.
第Ⅲ部では, 実際のYouTube上の動画に対するコメントを用いた実験結果を述べる.
第Ⅳ部では, 実験結果をもとに考察した提案手法の有効性や将来性について述べる. 

\newpage
\section{関連研究}
本研究を進めるにあたり, 研究テーマの方向性決めや研究課題の発見, 及び本研究で用いている技術に関して参考にした
論文を4つ紹介する. 
\subsection{機械学習を用いた自然言語処理による商品レビューの評価[1]}
この論文では, ユーザーが商品レビューを読んで参考になったかどうかを評価する機能が備わっていない
ECサイトの場合に, 数多くあるレビューから参考になる情報を探す必要がある問題に着目し, 
機械学習を用いた自然言語処理の手法で分析, 評価を行い, レビューを参考になる順番に並び替える
システムの構築を目的としている. そして並び替えた順番が正しいかどうかを評価するために, クイックソートを利用した
新しい評価法であるQE法を提案している. 

図\ref{fig:関連研究1システム概要図}はこの論文で提案されている, レビューを参考になる順番に並び替えるシステムの概要図である. はじめに, 
インターネット経由でAmazonの商品レビューのデータ取得し, 学習用データと評価データに分ける. 学習段階では, レビュー文章の
正規化や各前処理を施し, 教師データとして準備する. 
この研究では, 全角数字やアルファベットを半角に変換したり, 
数字は全て0に置換, アルファベットは全て小文字に変換などの正規化を行っている. また, 日本語形態素解析システムであるMeCab
を用いて形態素解析を行い, 品詞ごとに``\_''で分割する. その後, 活用語の原型への変換, 及びストップワード除去を行っている.
例えば, 「ロボットは２４時間働けるのでＡＩに仕事をとられる.」という文章の場合, 正規化と前処理を施すことで, 
「ロボット\_0\_働ける\_ai\_仕事\_とる.」となる. この一連の処理を学習用データに施した後, 機械学習の際に用いる素性
の抽出を行う. 
\begin{figure}[h]
    \centering
    \includegraphics[width=10cm]{images/system1.png}
    \caption{システム概要図}
    \label{fig:関連研究1システム概要図}
\end{figure}
この研究はレビューを参考になる順序に並べ替えることが目的のため, 素性には単語の出現頻度を用いている. 
目的変数をレビューが参考になる確率$P$とし, 抽出した素性を用いてロジスティック回帰により学習する. 
ロジスティック回帰のモデル式は式（1）で示される. $\theta_i$は素性の重み, $N$は素性の数を表している. 
\vspace{5truept}

\begin{equation}
    P=\dfrac{1}{1+exp(\theta_0x_0+\theta_1x_1+\cdots+\theta_Nx_N)}
\end{equation}
\vspace{5truept}

次に学習したモデルを用いて, 評価用データに対して実験を行ない, 提案システムの精度を検証している. 
この研究の提案システムの精度の評価は, 実際の商品ページのレビューの並び順との一致率で評価している. 
正解の並び方を$L_R$, 提案システムによる並べ方を$L_P$としたとき, それぞれの要素の一致率を$P_{match}$としている. 
例えば, 以下の並び方のとき, $P_{match}=100\%$となり最も良い結果となる. 
\begin{align}
    L_R:\{1,2,3,4,5\}\notag\\
    L_P:\{1,2,3,4,5\}\notag
\end{align}
しかし, 以下のように並び方の評価としては良い結果と言える場合でも, 5件のレビュー中1件のみ一致していることになり, 
$P_{match}=20\%$と低い結果になる. 
\begin{align}
    L_R:\{1,2,3,4,5\}\notag\\
    L_P:\{4,1,2,3,5\}\notag
\end{align}

このように正しい評価が行えない場合を解決するため, この研究ではクイックソートを利用した新しい評価法のQE法(Quicksort Evaluation method)
を提案している. QE法ではピボットを中央値とし, 昇順にするために要素を入れ替えた回数$S_{count}$と, 要素数における最大の入れ替え回数
$S_{max}$を用いた式（2）により, 評価値$P_{QE}$を求めている. なお, $S_{max}$は全ての要素が逆順の場合にクイックソートで
昇順に入れ替えた回数である. 
\vspace{5truept}

\begin{equation}
    P_{QE}=1-\dfrac{S_{count}}{S_{max}}
\end{equation}
\vspace{5truept}

実際の商品レビュー52,403件を取得し, そのうち51,403件を学習用データ, 1,000件を評価用データに分けて実験を行い, 提案システムの
精度を評価した結果を表\ref{table:関連研究1結果}に示している. 
ここで, 登場回数$F$とは学習の素性とするか決定するための単語の出現回数である. 
表\ref{table:関連研究1結果}から, $F=5000$, 学習率$\eta=1.7$のときに評価値$P_{QE}=0.814$と最大になる. 従って, この論文で提案しているシステムは
レビューを参考になる順序に並び替える手法として有効であると言える. 

しかし, この論文ではAmazonの商品レビューを分析の対象としていて, 素性には単語の出現頻度を用いているため, 
提案システムが成り立つにはしっかり商品をレビューしている文章を学習させる必要がある. そのため, この論文で提案されているシステム
ではYouTubeで商品を宣伝している動画や, SNSの投稿に対するコメントを学習させた場合に上手く学習できなかったり, 精度が悪くなってしまう
ことが考えられる. なぜならば, YouTubeの動画やSNSの投稿に対するコメントというのは誰でも気軽にでき, 内容も自由であるため, 
商品のレビューのようなコメントの数がAmazonの商品レビューに比べると少ないからである. また, 一文の長さも短いことが多く, 素性となり得る単語の抽出
も難しいと考えられる. そこで, 本論文ではそのような問題を解決するための手法を第Ⅱ部で提案する.
\begin{table}
    \centering
    \caption{登場回数と学習率の組み合わせごとの評価値$P_{QE}$}
    \includegraphics[width=14cm]{images/table1.png}
    \label{table:関連研究1結果}
\end{table}

\subsection{単語の出現頻度と類似性に基づいたトピックモデル洗練化手法[2]}
この論文では, 第Ⅱ部で後述するトピックモデルの一種のLatent Dirichlet Allocation(以下LDA)を自然言語文書に適用する際の
改善案を提案している. 
通常, トピックモデルを自然言語文書に適用する際には, 前処理として分類に不必要なストップワードの除去を行うことが多いが, 
一般的にストップワードリストに含まれている単語を除去するだけでは, 特定の文書にのみ頻出する特徴的な単語
を除去することが出来ず, トピックモデルの精度に影響を及ぼすという問題が存在する. 
また, トピックモデルによって分類したトピックには, 類似したトピックが複数出現し, 
分類の精度が下がるという問題も存在する. 

そこでこの論文では, 前処理として分析対象としている文書から適切なストップワードリストを作成する方法を提案している. 
また, トピックモデルを適用後の後処理として, トピックを構成している単語の類似度からトピック間の距離を算出し, 
類似しているトピックを統合することでより正確なトピック分類を可能にする手法を提案している. 図\ref{fig:関連研究2提案手法}は提案手法の全体像である. 
\begin{figure}[h]
    \centering
    \includegraphics[]{images/fig2.png}
    \caption{提案手法の流れ}
    \label{fig:関連研究2提案手法}
\end{figure}

ストップワードリストを作成する手順を図\ref{fig:関連研究2ストップワード}で示している. この手法では, まず対象としている文書全体に対して出現率が高い
単語をストップワードとして抽出する. 出現率の算出にははDF(Document Frequency)を用いている. DFとは, 文書全体に対して
ある単語Tが含まれる文書数のことであり, 事前に設定した閾値よりも高いDF値を持つ単語をストップワードリストに加える. 
次に, 抽出した単語と意味的に類似している単語をさらにストップワードとしてリストに加える. 
word2vecを用いて文章中の各単語を周辺の単語から学習し, 単語の分散表現を得て単語間の類似度を算出する.  
それによりある単語Tの類似単語を抽出することができ, ある閾値以上の類似度を示した単語を全てストップワードリストに加える. 
これにより, DF値が高くない場合でも文書の特徴を表しにくい単語をストップワードリストに加えることが可能になる. 
\begin{figure}[h]
    \centering
    \includegraphics[]{images/fig3.png}
    \caption{ストップワード抽出手法の流れ}
    \label{fig:関連研究2ストップワード}
\end{figure}

トピックモデル適用後の後処理では, 分類結果に似たよったトピックが存在する場合にそれらのトピックを統合する処理を行うことを提案している. 
類似トピックの判断基準には, TF-IDF cos類似度推定法が用いられている. これは, cos類似度の計算に使用する
ベクトルの成分をTF-IDFで算出したものにした手法である. この研究では, 分類した各トピックの単語集合に対して
TF-IDF cos類似度を利用したクラスタリングを行い, その結果に従ってトピックを統合する手法を提案している. 

以上の提案手法をLDAのよるメーリングリストのトピック分類に適用し, 評価項目に基づいて比較することで提案手法
の有効性の評価を行っている. 評価項目として, 一般的なストップワードリストを用いた手法と提案手法を比較している. 
また, 後処理として類似トピックの統合を行った場合についても比較を行っている. 
トピック分類の正確さを評価する指標として, 適合率, 再現率, それらの調和平均のF値を採用している. 
実験結果を表\ref{table:関連研究2結果}に示している. 表\ref{table:関連研究2結果}より, LDAを自然言語に適用したトピック分類では, 前処理としてストップワード除去
を行うことで分類精度が大幅に向上していることが分かる. また, 一般的なストップワードリストを用いた場合と提案手法
によるストップワードリストを用いた方法を比較するとF値が向上している. また, 後処理を行った場合のF値はさらに向上している
ことから, トピック分類の正確性を向上させる提案手法の有効性を確認できている. 

本研究ではトピックモデルの分類精度よりも抽出する単語の質を重視しているため, この研究で提案されているストップワードリスト
作成方法を用いると抽出したい単語をストップワードリストに加えてしまう恐れがある. 
また, 本研究で分析の対象としているYouTubeのコメントは, 書き言葉よりも話し言葉で書かれていたり, 若者言葉が使われていることが多く, 
一般的なストップワードリストだけでは不要な単語を除去することが困難である. そのため, 前処理で形態素解析を行い, 特定の品詞のみ抽出
してストップワードとして除去する, または特定の品詞のみでトピック分類を行う手法で実験を行った. 
\begin{table}
    \centering
    \caption{ストップワード数（$\#N$）, 適合率, 再現率, F値の結果}
    \vspace{5truept}
    \includegraphics[]{images/table2.png}
    \label{table:関連研究2結果}
\end{table}

\subsection{関連研究3}
関連研究3 保留

\newpage
\section{研究目的}
前項までの関連研究を踏まえた上で, 本研究の研究目的を明らかにする. 本研究ではYouTube上で商品や
サービスを宣伝している動画に対する視聴者のコメントを分析対象とする. 対象としているコメントのうち, その動画で紹介している商品・
サービスと関連性が高いコメントを抽出するシステムの作成を目的としている. [1]でレビューを参考になる順序に並び替えているように, 
本研究では後述する提案手法により商品との関連性が高い順にコメントを並び替え, 他のユーザーがその商品の購入を検討する際に参考にするコメント
を取得しやすいシステムの作成を目指す. また, 作成したシステムにより抽出した商品との関連性が高いコメントが, 人手の評価に対してどれほどの精度
で抽出できているかを評価し, 最終的な提案手法の精度としている. 

\newpage
\part{提案手法}
第Ⅱ部では本研究の提案手法, 及び提案手法で用いている主要な技術について説明する. 
\section{トピックモデル}
提案手法の説明に先立ち, 本提案手法において主要な技術であるトピックモデルについて説明する. トピックモデルとは, 
%本読んでからがいい
\subsection{Latent Dirichlet Allocation}
LDAの説明
\subsection{Biterm Topic Model}
BTMの説明

\newpage
\section{提案手法}
ここでは, 前項で説明したBitem Topic Modelを用いて, YouTube上で自社製品やサービスを宣伝している動画
に対するユーザーのコメントから, 宣伝している商品やサービスに対して関連性が高いコメントを抽出する
システムを提案する. また, 提案したシステムの精度を検証する方法についても説明する. 
\subsection{データ収集}
実験に用いるYouTubeのコメントは, YouTube Data API v3を用いて取得した. YouTube Data API v3はGoogle Cloud Consoleで
APIキーを作成し, APIを有効化することで様々なYouTubeデータにアクセスすることが可能になる. 
そのうち, YouTubeのコメントに関連するものとして表\ref{table:データ収集}のようなデータが挙げられる. 
\begin{table}[h]
    \caption{YouTube Data API v3 で取得できるコメント情報}
    \vspace{5truept}

    \centering
    \begin{tabular}{ll}
        \hline
        項目 & 内容 \\
        \hline\hline
        videoID & コメントした動画のID\\
        textDisplay & 現在表示されているコメント\\
        textOriginal & 最初に投稿されているコメント\\
        authorDisplayName & コメント投稿者の名前\\
        authorProfileImageUrl & コメント投稿者のアイコン\\
        authorChannelUrl & コメント投稿者のチャンネル\\
        authorChannelId & コメント投稿者のチャンネルID\\
        likeCount & コメントに付いたいいねの数\\
        publishedAt & コメントの投稿日\\
        updatedAt & コメントの最終更新日\\
        \hline
    \end{tabular}
    \label{table:データ収集}
\end{table}

本研究では, 表\ref{table:データ収集}のうちtextDisplay(現在表示されているコメント)のみを抽出し, 実験を行なった. 
また, YouTubeのコメントには元のコメントの他に別のユーザーが返信しているケースも多いが, 本研究では返信しているコメントは扱わず, 
元のコメントのみを抽出し実験の対象としている. 抽出したコメントの一例を図\ref{fig:元コメント}に示す. 
\vspace{10truept}

\begin{figure}[h]
    \centering
    \includegraphics[width=14cm]{images/元コメント.png}
    \caption{抽出したコメントの一例}
    \label{fig:元コメント}
\end{figure}
\newpage

\subsection{前処理手法}
トピックモデルを含む自然言語処理の様々な手法において, テキストデータに対する前処理は非常に重要である. 
Webテキストを扱う場合にはHTMLタグやJavaScriptのコードが含まれることもあり, 前処理としてそのような
ノイズを除去する必要がある. また, 本研究ではYouTubeの動画に対するコメントをテキストデータとして扱うが, 
YouTubeのコメントやSNSの投稿には絵文字や顔文字, URL, 話し言葉などを含んでいることが非常に多い. 
そのため, 本研究でもトピックモデルによる分類を行う前の前処理は非常に重要である. 
\subsection{BTMによるトピック抽出}
\subsection{文章生成}
\subsection{文章間の類似度計算}
\subsection{提案手法の精度検証}

\newpage
\part{実験結果}
\section{実験目的、仮説}
\part{参考文献}
[1]機械学習を用いた自然言語処理による商品レビューの評価

[2]単語の出現頻度と類似性に基づいたトピックモデル洗練化手法
\end{document}